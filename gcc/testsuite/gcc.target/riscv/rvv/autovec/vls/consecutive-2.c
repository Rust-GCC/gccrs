/* { dg-do compile } */
/* { dg-options "-march=rv64gcv_zvfh_zvl4096b -mabi=lp64d -mrvv-max-lmul=m8 -O3 -fdump-tree-optimized" } */

#include "def.h"

#define MASK_8 4, 5, 6, 7, 4, 5, 6, 7
#define MASK_16 MASK_8, MASK_8
#define MASK_32 MASK_16, MASK_16
#define MASK_64 MASK_32, MASK_32
#define MASK_64 MASK_32, MASK_32
#define MASK_128 MASK_64, MASK_64
#define MASK_256 MASK_128, MASK_128
#define MASK_512 MASK_256, MASK_256
#define MASK_1024 MASK_512, MASK_512
#define MASK_2048 MASK_1024, MASK_1024
#define MASK_4096 MASK_2048, MASK_2048

DEF_CONSECUTIVE (v8qi, 8)
DEF_CONSECUTIVE (v16qi, 16)
DEF_CONSECUTIVE (v32qi, 32)
DEF_CONSECUTIVE (v64qi, 64)
DEF_CONSECUTIVE (v128qi, 128)
DEF_CONSECUTIVE (v256qi, 256)
DEF_CONSECUTIVE (v512qi, 512)
DEF_CONSECUTIVE (v1024qi, 1024)
DEF_CONSECUTIVE (v2048qi, 2048)
DEF_CONSECUTIVE (v4096qi, 4096)
DEF_CONSECUTIVE (v8uqi, 8)
DEF_CONSECUTIVE (v16uqi, 16)
DEF_CONSECUTIVE (v32uqi, 32)
DEF_CONSECUTIVE (v64uqi, 64)
DEF_CONSECUTIVE (v128uqi, 128)
DEF_CONSECUTIVE (v256uqi, 256)
DEF_CONSECUTIVE (v512uqi, 512)
DEF_CONSECUTIVE (v1024uqi, 1024)
DEF_CONSECUTIVE (v2048uqi, 2048)
DEF_CONSECUTIVE (v4096uqi, 4096)

DEF_CONSECUTIVE (v8hi, 8)
DEF_CONSECUTIVE (v16hi, 16)
DEF_CONSECUTIVE (v32hi, 32)
DEF_CONSECUTIVE (v64hi, 64)
DEF_CONSECUTIVE (v128hi, 128)
DEF_CONSECUTIVE (v256hi, 256)
DEF_CONSECUTIVE (v512hi, 512)
DEF_CONSECUTIVE (v1024hi, 1024)
DEF_CONSECUTIVE (v2048hi, 2048)
DEF_CONSECUTIVE (v8uhi, 8)
DEF_CONSECUTIVE (v16uhi, 16)
DEF_CONSECUTIVE (v32uhi, 32)
DEF_CONSECUTIVE (v64uhi, 64)
DEF_CONSECUTIVE (v128uhi, 128)
DEF_CONSECUTIVE (v256uhi, 256)
DEF_CONSECUTIVE (v512uhi, 512)
DEF_CONSECUTIVE (v1024uhi, 1024)
DEF_CONSECUTIVE (v2048uhi, 2048)

DEF_CONSECUTIVE (v8hf, 8)
DEF_CONSECUTIVE (v16hf, 16)
DEF_CONSECUTIVE (v32hf, 32)
DEF_CONSECUTIVE (v64hf, 64)
DEF_CONSECUTIVE (v128hf, 128)
DEF_CONSECUTIVE (v256hf, 256)
DEF_CONSECUTIVE (v512hf, 512)
DEF_CONSECUTIVE (v1024hf, 1024)
DEF_CONSECUTIVE (v2048hf, 2048)

/* { dg-final { scan-assembler-times {vrgather\.vi\s+v[0-9]+,\s*v[0-9]+,\s*1} 47 } } */
