/* { dg-do run { target { riscv_v } } } */
/* { dg-additional-options "-std=c99" } */

#include "vec_sat_arith.h"

#define OUT_T              uint16_t
#define IN_T               uint32_t
#define N                  16
#define RUN_VEC_SAT_BINARY RUN_VEC_SAT_U_SUB_TRUNC_FMT_1 

DEF_VEC_SAT_U_SUB_TRUNC_FMT_1(OUT_T, IN_T)

OUT_T expect_data[][N] = {
  {
    0, 0, 0, 0,
    0, 0, 0, 0,
    0, 0, 0, 0,
    0, 0, 0, 0,
  },
  {
    65534, 65535, 4, 0,
    65534, 65535, 4, 0,
    65534, 65535, 4, 0,
    65534, 65535, 4, 0,
  },
  {
    43, 0, 0, 2,
    43, 0, 0, 2,
    43, 0, 0, 2,
    43, 0, 0, 2,
  },
  {
    65532, 34484, 0, 65535,
    65532, 34484, 0, 65535,
    65532, 34484, 0, 65535,
    65532, 34484, 0, 65535,
  },
};

IN_T op_1_data[][N] = {
  {
    0, 0, 0, 0,
    0, 0, 0, 0,
    0, 0, 0, 0,
    0, 0, 0, 0,
  },
  {
    4294967295, 65536, 5, 0,
    4294967295, 65536, 5, 0,
    4294967295, 65536, 5, 0,
    4294967295, 65536, 5, 0,
  },
  {
    4294967295, 1024, 5, 4294967254,
    4294967295, 1024, 5, 4294967254,
    4294967295, 1024, 5, 4294967254,
    4294967295, 1024, 5, 4294967254,
  },
  {
    4294967295, 100023, 65536, 131074,
    4294967295, 100023, 65536, 131074,
    4294967295, 100023, 65536, 131074,
    4294967295, 100023, 65536, 131074,
  },
};

IN_T op_2_data[] = {
  0,
  1,
  4294967252,
  65539,
};

#include "vec_sat_binary_vvx_run.h"
