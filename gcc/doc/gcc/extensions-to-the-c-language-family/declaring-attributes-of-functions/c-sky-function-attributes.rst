..
  Copyright 1988-2022 Free Software Foundation, Inc.
  This is part of the GCC manual.
  For copying conditions, see the copyright.rst file.

.. _c-sky-function-attributes:

C-SKY Function Attributes
^^^^^^^^^^^^^^^^^^^^^^^^^

These function attributes are supported by the C-SKY back end:

.. index:: interrupt function attribute, C-SKY, isr function attribute, C-SKY

.. c-sky-fn-attr:: interrupt, isr

  Use these attributes to indicate that the specified function
  is an interrupt handler.
  The compiler generates function entry and exit sequences suitable for
  use in an interrupt handler when either of these attributes are present.

  Use of these options requires the :option:`-mistack` command-line option
  to enable support for the necessary interrupt stack instructions.  They
  are ignored with a warning otherwise.  See :ref:`c-sky-options`.

.. index:: naked function attribute, C-SKY

.. c-sky-fn-attr:: naked

  This attribute allows the compiler to construct the
  requisite function declaration, while allowing the body of the
  function to be assembly code. The specified function will not have
  prologue/epilogue sequences generated by the compiler. Only basic
  ``asm`` statements can safely be included in naked functions
  (see :ref:`basic-asm`). While using extended ``asm`` or a mixture of
  basic ``asm`` and C code may appear to work, they cannot be
  depended upon to work reliably and are not supported.
